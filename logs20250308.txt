2025-03-08 17:45:03 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 17:45:03 [INF] Now listening on: http://localhost:5129 
2025-03-08 17:45:03 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 17:45:03 [INF] Hosting environment: Development 
2025-03-08 17:45:03 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 17:45:20 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 17:45:20 [INF] HTTP GET /swagger/index.html responded 200 in 106.2347 ms 
2025-03-08 17:45:20 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 135.4835ms 
2025-03-08 17:45:20 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/swagger-ui.css - null null 
2025-03-08 17:45:20 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/swagger-ui-bundle.js - null null 
2025-03-08 17:45:20 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/swagger-ui-standalone-preset.js - null null 
2025-03-08 17:45:20 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A' 
2025-03-08 17:45:20 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A' 
2025-03-08 17:45:20 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A' 
2025-03-08 17:45:20 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 44.0512 ms 
2025-03-08 17:45:20 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 81.0834 ms 
2025-03-08 17:45:20 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 77.2540 ms 
2025-03-08 17:45:20 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 57.5465ms 
2025-03-08 17:45:20 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/swagger-ui.css - 200 152034 text/css 93.4688ms 
2025-03-08 17:45:20 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 83.0085ms 
2025-03-08 17:45:21 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 17:45:22 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 211.5391 ms 
2025-03-08 17:45:22 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 213.2296ms 
2025-03-08 17:46:09 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Revenue - application/json 111 
2025-03-08 17:46:10 [INF] Executing endpoint 'RevenueController.CreateRevenue (FinacyApi)' 
2025-03-08 17:46:10 [INF] Route matched with {action = "CreateRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.Model.Revenue]] CreateRevenue(FinacyApi.ViewModels.RevenueViewModel) on controller RevenueController (FinacyApi). 
2025-03-08 17:46:11 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Revenues" ("Description", "ReceiptDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id"; 
2025-03-08 17:46:11 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Revenue'. 
2025-03-08 17:46:11 [INF] Executed action RevenueController.CreateRevenue (FinacyApi) in 1491.0293ms 
2025-03-08 17:46:11 [INF] Executed endpoint 'RevenueController.CreateRevenue (FinacyApi)' 
2025-03-08 17:46:11 [INF] HTTP POST /api/Revenue responded 201 in 1626.5605 ms 
2025-03-08 17:46:11 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Revenue - 201 null application/json; charset=utf-8 1638.5739ms 
2025-03-08 17:47:44 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Revenue - application/json 116 
2025-03-08 17:47:44 [INF] Executing endpoint 'RevenueController.CreateRevenue (FinacyApi)' 
2025-03-08 17:47:44 [INF] Route matched with {action = "CreateRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.Model.Revenue]] CreateRevenue(FinacyApi.ViewModels.RevenueViewModel) on controller RevenueController (FinacyApi). 
2025-03-08 17:47:44 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Revenues" ("Description", "ReceiptDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id"; 
2025-03-08 17:47:44 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Revenue'. 
2025-03-08 17:47:44 [INF] Executed action RevenueController.CreateRevenue (FinacyApi) in 111.3957ms 
2025-03-08 17:47:44 [INF] Executed endpoint 'RevenueController.CreateRevenue (FinacyApi)' 
2025-03-08 17:47:44 [INF] HTTP POST /api/Revenue responded 201 in 118.1516 ms 
2025-03-08 17:47:44 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Revenue - 201 null application/json; charset=utf-8 121.3918ms 
2025-03-08 17:48:05 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Revenue - application/json 118 
2025-03-08 17:48:05 [INF] Executing endpoint 'RevenueController.CreateRevenue (FinacyApi)' 
2025-03-08 17:48:05 [INF] Route matched with {action = "CreateRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.Model.Revenue]] CreateRevenue(FinacyApi.ViewModels.RevenueViewModel) on controller RevenueController (FinacyApi). 
2025-03-08 17:48:05 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Revenues" ("Description", "ReceiptDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id"; 
2025-03-08 17:48:05 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Revenue'. 
2025-03-08 17:48:05 [INF] Executed action RevenueController.CreateRevenue (FinacyApi) in 29.5342ms 
2025-03-08 17:48:05 [INF] Executed endpoint 'RevenueController.CreateRevenue (FinacyApi)' 
2025-03-08 17:48:05 [INF] HTTP POST /api/Revenue responded 201 in 34.1530 ms 
2025-03-08 17:48:05 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Revenue - 201 null application/json; charset=utf-8 36.4198ms 
2025-03-08 17:48:32 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/Revenue - null null 
2025-03-08 17:48:32 [INF] Executing endpoint 'RevenueController.GetRevenues (FinacyApi)' 
2025-03-08 17:48:32 [INF] Route matched with {action = "GetRevenues", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[FinacyApi.ViewModels.RevenueViewModel]]] GetRevenues() on controller RevenueController (FinacyApi). 
2025-03-08 17:48:33 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r.value AS "Amount", r."ReceiptDate" AS "Date", r."Description", r."UserId"
FROM "Revenues" AS r 
2025-03-08 17:48:33 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FinacyApi.ViewModels.RevenueViewModel, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 17:48:33 [INF] Executed action RevenueController.GetRevenues (FinacyApi) in 258.459ms 
2025-03-08 17:48:33 [INF] Executed endpoint 'RevenueController.GetRevenues (FinacyApi)' 
2025-03-08 17:48:33 [INF] HTTP GET /api/Revenue responded 200 in 266.6891 ms 
2025-03-08 17:48:33 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/Revenue - 200 null application/json; charset=utf-8 267.1684ms 
2025-03-08 17:49:28 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Expense - application/json 156 
2025-03-08 17:49:28 [INF] Executing endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 17:49:28 [INF] Route matched with {action = "CreateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.ViewModels.ExpenseViewModel]] CreateExpense(FinacyApi.ViewModels.ExpenseViewModel) on controller FinacyApi.Controllers.ExpenseController (FinacyApi). 
2025-03-08 17:49:28 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Category", "Description", "ExpenseDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2025-03-08 17:49:28 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Expense'. 
2025-03-08 17:49:28 [INF] Executed action FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi) in 52.5604ms 
2025-03-08 17:49:28 [INF] Executed endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 17:49:28 [INF] HTTP POST /api/Expense responded 201 in 61.4780 ms 
2025-03-08 17:49:28 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Expense - 201 null application/json; charset=utf-8 62.6253ms 
2025-03-08 17:49:50 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Expense - application/json 136 
2025-03-08 17:49:50 [INF] Executing endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 17:49:50 [INF] Route matched with {action = "CreateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.ViewModels.ExpenseViewModel]] CreateExpense(FinacyApi.ViewModels.ExpenseViewModel) on controller FinacyApi.Controllers.ExpenseController (FinacyApi). 
2025-03-08 17:49:50 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Category", "Description", "ExpenseDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2025-03-08 17:49:50 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Expense'. 
2025-03-08 17:49:50 [INF] Executed action FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi) in 15.0559ms 
2025-03-08 17:49:50 [INF] Executed endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 17:49:50 [INF] HTTP POST /api/Expense responded 201 in 15.7115 ms 
2025-03-08 17:49:50 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Expense - 201 null application/json; charset=utf-8 16.1688ms 
2025-03-08 17:50:10 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Expense - application/json 140 
2025-03-08 17:50:10 [INF] Executing endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 17:50:10 [INF] Route matched with {action = "CreateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.ViewModels.ExpenseViewModel]] CreateExpense(FinacyApi.ViewModels.ExpenseViewModel) on controller FinacyApi.Controllers.ExpenseController (FinacyApi). 
2025-03-08 17:50:10 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Category", "Description", "ExpenseDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2025-03-08 17:50:10 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Expense'. 
2025-03-08 17:50:10 [INF] Executed action FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi) in 8.2001ms 
2025-03-08 17:50:10 [INF] Executed endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 17:50:10 [INF] HTTP POST /api/Expense responded 201 in 9.6618 ms 
2025-03-08 17:50:10 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Expense - 201 null application/json; charset=utf-8 11.3652ms 
2025-03-08 17:54:52 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 17:54:52 [INF] Now listening on: http://localhost:5129 
2025-03-08 17:54:52 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 17:54:52 [INF] Hosting environment: Development 
2025-03-08 17:54:52 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 17:54:56 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 17:54:56 [INF] HTTP GET /swagger/index.html responded 200 in 103.0772 ms 
2025-03-08 17:54:56 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 132.2966ms 
2025-03-08 17:54:57 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 17:54:57 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 297.3974 ms 
2025-03-08 17:54:57 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 299.9792ms 
2025-03-08 17:55:07 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 17:55:07 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user. 
2025-03-08 17:55:07 [INF] AuthenticationScheme: Bearer was challenged. 
2025-03-08 17:55:07 [INF] HTTP GET /api/user/7 responded 401 in 44.0249 ms 
2025-03-08 17:55:07 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 401 0 null 52.2383ms 
2025-03-08 17:55:41 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 17:55:41 [INF] Now listening on: http://localhost:5129 
2025-03-08 17:55:41 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 17:55:41 [INF] Hosting environment: Development 
2025-03-08 17:55:41 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 17:55:44 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 17:55:44 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 17:55:44 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 17:55:44 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 138.2351ms 
2025-03-08 17:55:44 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 17:55:44 [ERR] HTTP GET /api/user/7 responded 500 in 227.9076 ms 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 17:55:44 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 17:55:44 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 298.0403ms 
2025-03-08 17:55:53 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 17:55:53 [INF] HTTP GET /swagger/index.html responded 200 in 110.4270 ms 
2025-03-08 17:55:53 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 115.1608ms 
2025-03-08 17:55:54 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 17:55:54 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 218.5444 ms 
2025-03-08 17:55:54 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 219.5056ms 
2025-03-08 17:56:01 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 17:56:01 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 17:56:01 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 17:56:01 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 14.2642ms 
2025-03-08 17:56:01 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 17:56:01 [ERR] HTTP GET /api/user/7 responded 500 in 19.3547 ms 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 17:56:01 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 17:56:01 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 27.2876ms 
2025-03-08 18:08:14 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 18:08:14 [INF] Now listening on: http://localhost:5129 
2025-03-08 18:08:14 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 18:08:14 [INF] Hosting environment: Development 
2025-03-08 18:08:14 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 18:08:17 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 18:08:17 [INF] HTTP GET /swagger/index.html responded 200 in 95.0938 ms 
2025-03-08 18:08:17 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 123.259ms 
2025-03-08 18:08:18 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 18:08:19 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 232.8717 ms 
2025-03-08 18:08:19 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 235.6778ms 
2025-03-08 18:08:26 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 18:08:26 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:08:26 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 18:08:27 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 137.139ms 
2025-03-08 18:08:27 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:08:27 [ERR] HTTP GET /api/user/7 responded 500 in 225.8828 ms 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 18:08:27 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 18:08:27 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 254.9825ms 
2025-03-08 18:08:36 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 18:08:36 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:08:36 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 18:08:36 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 15.2085ms 
2025-03-08 18:08:36 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:08:36 [ERR] HTTP GET /api/user/7 responded 500 in 18.8676 ms 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 18:08:36 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: Unable to resolve service for type 'FinacyApi.Services.GenerateReport' while attempting to activate 'FinacyApi.Controllers.UserController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method3(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 18:08:36 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 23.2757ms 
2025-03-08 18:10:51 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 18:10:51 [INF] Now listening on: http://localhost:5129 
2025-03-08 18:10:51 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 18:10:51 [INF] Hosting environment: Development 
2025-03-08 18:10:51 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 18:11:47 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 18:11:47 [INF] Now listening on: http://localhost:5129 
2025-03-08 18:11:47 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 18:11:47 [INF] Hosting environment: Development 
2025-03-08 18:11:47 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 18:11:48 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 18:11:48 [INF] HTTP GET /swagger/index.html responded 200 in 124.6527 ms 
2025-03-08 18:11:48 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 157.7345ms 
2025-03-08 18:11:49 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 18:11:50 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 418.5280 ms 
2025-03-08 18:11:50 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 429.0702ms 
2025-03-08 18:11:59 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 18:11:59 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:11:59 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 18:11:59 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 116.8678ms 
2025-03-08 18:11:59 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:11:59 [ERR] HTTP GET /api/user/7 responded 500 in 191.1397 ms 
System.NotImplementedException: The method or operation is not implemented.
   at FinacyApi.Services.GenerateReport.FinacyApi.Services.Interface.IGenerateReport.GenerateReportAsync(Int32 Id) in /home/gabriel/Documentos/C#/FinacyApi/Services/GenerateReport.cs:line 49
   at FinacyApi.Controllers.UserController.GetByData(Int32 id) in /home/gabriel/Documentos/C#/FinacyApi/Controllers/UserController.cs:line 93
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 18:11:59 [ERR] An unhandled exception has occurred while executing the request. 
System.NotImplementedException: The method or operation is not implemented.
   at FinacyApi.Services.GenerateReport.FinacyApi.Services.Interface.IGenerateReport.GenerateReportAsync(Int32 Id) in /home/gabriel/Documentos/C#/FinacyApi/Services/GenerateReport.cs:line 49
   at FinacyApi.Controllers.UserController.GetByData(Int32 id) in /home/gabriel/Documentos/C#/FinacyApi/Controllers/UserController.cs:line 93
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 18:11:59 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 219.8912ms 
2025-03-08 18:14:01 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 18:14:01 [INF] Now listening on: http://localhost:5129 
2025-03-08 18:14:01 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 18:14:01 [INF] Hosting environment: Development 
2025-03-08 18:14:01 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 18:14:02 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 18:14:03 [INF] HTTP GET /swagger/index.html responded 200 in 88.2082 ms 
2025-03-08 18:14:03 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 113.4489ms 
2025-03-08 18:14:03 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 18:14:03 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 253.3760 ms 
2025-03-08 18:14:03 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 255.3985ms 
2025-03-08 18:14:13 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 18:14:13 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:14:13 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 18:14:14 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 18:14:14 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 1253.9386ms 
2025-03-08 18:14:14 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:14:14 [ERR] HTTP GET /api/user/7 responded 500 in 1345.5842 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[System.Object,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 18:14:14 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[System.Object,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 18:14:14 [ERR] Connection id "0HNAUGOJFS8OA", Request id "0HNAUGOJFS8OA:00000003": An unhandled exception was thrown by the application. 
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnectionAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 18:14:14 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 1390.4086ms 
2025-03-08 18:14:14 [INF] Executed DbCommand (94ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Category", e."Description", e."ExpenseDate", e."UserId", e.value
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 18:14:14 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 18:24:50 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 18:24:50 [INF] Now listening on: http://localhost:5129 
2025-03-08 18:24:50 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 18:24:50 [INF] Hosting environment: Development 
2025-03-08 18:24:50 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 18:24:55 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 18:24:55 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:24:55 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 18:24:56 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 18:24:56 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 953.8153ms 
2025-03-08 18:24:56 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:24:56 [ERR] HTTP GET /api/user/7 responded 500 in 1015.8311 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 18:24:56 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 18:24:56 [ERR] Connection id "0HNAUGULQ2794", Request id "0HNAUGULQ2794:00000001": An unhandled exception was thrown by the application. 
Npgsql.NpgsqlOperationInProgressException (0x80004005): A command is already in progress: SELECT e."Id", e."Description", e."ExpenseDate", e.value AS "Value"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0
   at Npgsql.ThrowHelper.ThrowNpgsqlOperationInProgressException(NpgsqlCommand command)
   at Npgsql.Internal.NpgsqlConnector.<StartUserAction>g__DoStartUserAction|282_0(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(ConnectorState newState, NpgsqlCommand command, CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.StartUserAction(CancellationToken cancellationToken, Boolean attemptPgCancellation)
   at Npgsql.Internal.NpgsqlConnector.Reset(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync(Boolean async)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 18:24:56 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 1087.5404ms 
2025-03-08 18:24:56 [INF] Executed DbCommand (72ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Description", e."ExpenseDate", e.value AS "Value"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 18:24:56 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 18:24:58 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 18:24:58 [INF] HTTP GET /swagger/index.html responded 200 in 64.3401 ms 
2025-03-08 18:24:58 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 66.2719ms 
2025-03-08 18:24:59 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 18:24:59 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 321.3774 ms 
2025-03-08 18:24:59 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 327.7963ms 
2025-03-08 18:25:09 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 18:25:09 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:25:09 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 18:25:09 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 18:25:09 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Description", e."ExpenseDate", e.value AS "Value"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 18:25:09 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 33.6813ms 
2025-03-08 18:25:09 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 18:25:09 [ERR] HTTP GET /api/user/7 responded 500 in 38.1593 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 18:25:09 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 18:25:09 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 55.3575ms 
2025-03-08 18:25:09 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 348, len: 4)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method11(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 348, len: 4)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method11(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 21:32:08 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 21:32:08 [INF] Now listening on: http://localhost:5129 
2025-03-08 21:32:08 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 21:32:08 [INF] Hosting environment: Development 
2025-03-08 21:32:08 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 21:33:27 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 21:33:27 [INF] HTTP GET /swagger/index.html responded 200 in 98.0142 ms 
2025-03-08 21:33:27 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 127.8688ms 
2025-03-08 21:33:28 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 21:33:29 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 201.7823 ms 
2025-03-08 21:33:29 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 208.9736ms 
2025-03-08 21:33:37 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:33:37 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:33:38 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:33:39 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 21:33:39 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 1132.7125ms 
2025-03-08 21:33:39 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:33:39 [ERR] HTTP GET /api/user/7 responded 500 in 1208.1340 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 21:33:39 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 21:33:39 [ERR] Connection id "0HNAUK813HA2N", Request id "0HNAUK813HA2N:00000003": An unhandled exception was thrown by the application. 
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnectionAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 21:33:39 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 1262.3432ms 
2025-03-08 21:33:39 [INF] Executed DbCommand (80ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Description", e."ExpenseDate", e.value AS "Value"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:33:39 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 21:37:50 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 21:37:50 [INF] Now listening on: http://localhost:5129 
2025-03-08 21:37:50 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 21:37:50 [INF] Hosting environment: Development 
2025-03-08 21:37:50 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 21:37:53 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 21:37:53 [INF] HTTP GET /swagger/index.html responded 200 in 103.7663 ms 
2025-03-08 21:37:53 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 136.4618ms 
2025-03-08 21:37:54 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 21:37:54 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 190.6388 ms 
2025-03-08 21:37:54 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.6233ms 
2025-03-08 21:38:04 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:38:04 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:38:04 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:38:05 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 21:38:05 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 1110.5354ms 
2025-03-08 21:38:05 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:38:05 [ERR] HTTP GET /api/user/7 responded 500 in 1194.2884 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 21:38:05 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 21:38:05 [ERR] Connection id "0HNAUKAGAOBQ0", Request id "0HNAUKAGAOBQ0:00000003": An unhandled exception was thrown by the application. 
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnectionAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 21:38:05 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 1258.8781ms 
2025-03-08 21:38:05 [INF] Executed DbCommand (68ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Description", e."ExpenseDate", e.value AS "Value"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:38:05 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 21:42:43 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId"; 
2025-03-08 21:42:43 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
); 
2025-03-08 21:42:43 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long. 
2025-03-08 21:42:43 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE 
2025-03-08 21:42:43 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId"; 
2025-03-08 21:42:43 [INF] Applying migration '20250309004234_AddUserRelationships'. 
2025-03-08 21:42:43 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250309004234_AddUserRelationships', '9.0.2'); 
2025-03-08 21:43:16 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 21:43:16 [INF] Now listening on: http://localhost:5129 
2025-03-08 21:43:16 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 21:43:16 [INF] Hosting environment: Development 
2025-03-08 21:43:16 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 21:43:17 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 21:43:17 [INF] HTTP GET /swagger/index.html responded 200 in 82.0118 ms 
2025-03-08 21:43:17 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 107.7183ms 
2025-03-08 21:43:18 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 21:43:18 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 163.8840 ms 
2025-03-08 21:43:18 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.5499ms 
2025-03-08 21:43:26 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:43:26 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:43:26 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:43:27 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 21:43:27 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 926.0351ms 
2025-03-08 21:43:27 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:43:27 [ERR] HTTP GET /api/user/7 responded 500 in 992.8514 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 21:43:27 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 21:43:27 [ERR] Connection id "0HNAUKDGSGPRE", Request id "0HNAUKDGSGPRE:00000003": An unhandled exception was thrown by the application. 
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnectionAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 21:43:27 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 1030.2184ms 
2025-03-08 21:43:27 [INF] Executed DbCommand (57ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Description", e."ExpenseDate", e.value AS "Value"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:43:27 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 21:52:45 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 21:52:45 [INF] Now listening on: http://localhost:5129 
2025-03-08 21:52:45 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 21:52:45 [INF] Hosting environment: Development 
2025-03-08 21:52:45 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 21:53:00 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 21:53:00 [INF] HTTP GET /swagger/index.html responded 200 in 96.8116 ms 
2025-03-08 21:53:00 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 121.7619ms 
2025-03-08 21:53:01 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 21:53:01 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 204.7596 ms 
2025-03-08 21:53:01 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 210.7597ms 
2025-03-08 21:53:09 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:53:09 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:53:09 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:53:10 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 21:53:10 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 977.15ms 
2025-03-08 21:53:10 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:53:10 [ERR] HTTP GET /api/user/7 responded 500 in 1043.0897 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 21:53:10 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 21:53:10 [ERR] Connection id "0HNAUKIUPC13I", Request id "0HNAUKIUPC13I:00000003": An unhandled exception was thrown by the application. 
System.InvalidOperationException: Can't close, connection is in state Connecting
   at Npgsql.NpgsqlConnection.Close(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.CloseDbConnectionAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 21:53:10 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 1080.291ms 
2025-03-08 21:53:10 [INF] Executed DbCommand (65ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e.value AS "Value", e."Category", e."ExpenseDate", e."Description"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:53:10 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'FinancyDbContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 21:54:23 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:54:23 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:54:23 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:54:23 [INF] Executing OkObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[ReportDto, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2, FinacyApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. 
2025-03-08 21:54:23 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e.value AS "Value", e."Category", e."ExpenseDate", e."Description"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:54:23 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 30.4326ms 
2025-03-08 21:54:23 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:54:23 [ERR] HTTP GET /api/user/7 responded 500 in 40.3839 ms 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-03-08 21:54:23 [ERR] An unhandled exception has occurred while executing the request. 
System.InvalidOperationException: The type 'System.Threading.ExecutionContext&' of property 'Context' on type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[ReportDto,FinacyApi.Services.GenerateReport+<GenerateReportAsync>d__2]' is invalid for serialization or deserialization because it is a pointer type, is a ref struct, or contains generic parameters that have not been replaced by specific types.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_CannotSerializeInvalidType(Type typeToConvert, Type declaringType, MemberInfo memberInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreatePropertyInfo(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, JsonSerializerOptions options, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMember(JsonTypeInfo typeInfo, Type typeToConvert, MemberInfo memberInfo, NullabilityInfoContext nullabilityCtx, Boolean shouldCheckForRequiredKeyword, Boolean hasJsonIncludeAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, NullabilityInfoContext nullabilityCtx, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo, NullabilityInfoContext nullabilityCtx)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateJsonTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.CachingContext.CacheEntry.GetResult()
   at System.Text.Json.JsonSerializerOptions.CachingContext.GetOrAddTypeInfo(Type type, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-08 21:54:23 [ERR] An exception occurred while iterating over the results of a query for context type 'FinacyApi.Data.FinancyDbContext'.
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 265, len: 4)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method11(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() 
System.InvalidOperationException: The read on this field has consumed all of its bytes and read into the subsequent bytes (pos: 265, len: 4)
   at Npgsql.Internal.PgReader.ThrowNotConsumedExactly()
   at Npgsql.Internal.PgReader.EndRead()
   at Npgsql.NpgsqlDataReader.GetFieldValueCore[T](Int32 ordinal)
   at Npgsql.NpgsqlDataReader.GetInt32(Int32 ordinal)
   at lambda_method11(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-03-08 21:54:23 [ERR] Connection id "0HNAUKIUPC13I", Request id "0HNAUKIUPC13I:00000004": An unhandled exception was thrown by the application. 
Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.<NextResult>g__ConsumeResultSet|52_0(Boolean async)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Close(Boolean async, Boolean connectionClosing, Boolean isDisposing)
   at Npgsql.Internal.NpgsqlConnector.CloseOngoingOperations(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync(Boolean async)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-03-08 21:54:23 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 500 null text/plain; charset=utf-8 73.4164ms 
2025-03-08 21:54:31 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 21:54:31 [INF] Now listening on: http://localhost:5129 
2025-03-08 21:54:31 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 21:54:31 [INF] Hosting environment: Development 
2025-03-08 21:54:31 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 21:55:25 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 21:55:25 [INF] Now listening on: http://localhost:5129 
2025-03-08 21:55:25 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 21:55:25 [INF] Hosting environment: Development 
2025-03-08 21:55:25 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 21:55:27 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 21:55:28 [INF] HTTP GET /swagger/index.html responded 200 in 90.8881 ms 
2025-03-08 21:55:28 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 116.3463ms 
2025-03-08 21:55:28 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 21:55:28 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 185.2622 ms 
2025-03-08 21:55:28 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.0545ms 
2025-03-08 21:55:36 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:55:36 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:55:36 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:55:37 [INF] Executed DbCommand (51ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e.value AS "Value", e."Category", e."ExpenseDate", e."Description"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:55:37 [INF] Executed DbCommand (5ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r.value, r."Description", r."ReceiptDate"
FROM "Revenues" AS r
WHERE r."UserId" = @__Id_0 
2025-03-08 21:55:37 [INF] Executed DbCommand (2ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."Description", m."TotalValue"
FROM "MetaFinancials" AS m
WHERE m."UserId" = @__Id_0 
2025-03-08 21:55:37 [INF] Executing OkObjectResult, writing value of type 'ReportDto'. 
2025-03-08 21:55:37 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 1509.5429ms 
2025-03-08 21:55:37 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:55:37 [INF] HTTP GET /api/user/7 responded 200 in 1577.5789 ms 
2025-03-08 21:55:37 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 200 null application/json; charset=utf-8 1598.557ms 
2025-03-08 21:56:48 [INF] Request starting HTTP/1.1 POST http://localhost:5129/api/Expense - application/json 145 
2025-03-08 21:56:48 [INF] Executing endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 21:56:48 [INF] Route matched with {action = "CreateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FinacyApi.ViewModels.ExpenseViewModel]] CreateExpense(FinacyApi.ViewModels.ExpenseViewModel) on controller FinacyApi.Controllers.ExpenseController (FinacyApi). 
2025-03-08 21:56:48 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Expenses" ("Category", "Description", "ExpenseDate", "UserId", value)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id"; 
2025-03-08 21:56:48 [INF] Executing CreatedAtActionResult, writing value of type 'FinacyApi.Model.Expense'. 
2025-03-08 21:56:48 [INF] Executed action FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi) in 267.8443ms 
2025-03-08 21:56:48 [INF] Executed endpoint 'FinacyApi.Controllers.ExpenseController.CreateExpense (FinacyApi)' 
2025-03-08 21:56:48 [INF] HTTP POST /api/Expense responded 201 in 294.9844 ms 
2025-03-08 21:56:48 [INF] Request finished HTTP/1.1 POST http://localhost:5129/api/Expense - 201 null application/json; charset=utf-8 297.3334ms 
2025-03-08 21:56:53 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 21:56:53 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:56:53 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 21:56:53 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e.value AS "Value", e."Category", e."ExpenseDate", e."Description"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 21:56:53 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r.value, r."Description", r."ReceiptDate"
FROM "Revenues" AS r
WHERE r."UserId" = @__Id_0 
2025-03-08 21:56:53 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."Description", m."TotalValue"
FROM "MetaFinancials" AS m
WHERE m."UserId" = @__Id_0 
2025-03-08 21:56:53 [INF] Executing OkObjectResult, writing value of type 'ReportDto'. 
2025-03-08 21:56:53 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 135.7595ms 
2025-03-08 21:56:53 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 21:56:53 [INF] HTTP GET /api/user/7 responded 200 in 139.2651 ms 
2025-03-08 21:56:53 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 200 null application/json; charset=utf-8 139.9645ms 
2025-03-08 22:16:57 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 22:16:57 [INF] Now listening on: http://localhost:5129 
2025-03-08 22:16:57 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 22:16:57 [INF] Hosting environment: Development 
2025-03-08 22:16:57 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 22:17:01 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 22:17:01 [INF] HTTP GET /swagger/index.html responded 200 in 101.3294 ms 
2025-03-08 22:17:01 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 126.6518ms 
2025-03-08 22:17:02 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 22:17:02 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 355.8518 ms 
2025-03-08 22:17:02 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 360.8631ms 
2025-03-08 22:17:12 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 22:17:12 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 22:17:12 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 22:17:13 [INF] Executed DbCommand (50ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e.value AS "Value", e."Category", e."ExpenseDate", e."Description"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 22:17:13 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r.value, r."Description", r."ReceiptDate"
FROM "Revenues" AS r
WHERE r."UserId" = @__Id_0 
2025-03-08 22:17:13 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."Description", m."TotalValue"
FROM "MetaFinancials" AS m
WHERE m."UserId" = @__Id_0 
2025-03-08 22:17:13 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'. 
2025-03-08 22:17:13 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 1250.1779ms 
2025-03-08 22:17:13 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 22:17:13 [INF] HTTP GET /api/user/7 responded 400 in 1353.3258 ms 
2025-03-08 22:17:13 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 400 null text/plain; charset=utf-8 1367.164ms 
2025-03-08 22:18:13 [INF] User profile is available. Using '/home/gabriel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest. 
2025-03-08 22:18:14 [INF] Now listening on: http://localhost:5129 
2025-03-08 22:18:14 [INF] Application started. Press Ctrl+C to shut down. 
2025-03-08 22:18:14 [INF] Hosting environment: Development 
2025-03-08 22:18:14 [INF] Content root path: /home/gabriel/Documentos/C#/FinacyApi 
2025-03-08 22:18:18 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/index.html - null null 
2025-03-08 22:18:18 [INF] HTTP GET /swagger/index.html responded 200 in 87.0659 ms 
2025-03-08 22:18:18 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/index.html - 200 null text/html;charset=utf-8 110.9706ms 
2025-03-08 22:18:19 [INF] Request starting HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - null null 
2025-03-08 22:18:19 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 171.9168 ms 
2025-03-08 22:18:19 [INF] Request finished HTTP/1.1 GET http://localhost:5129/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.8723ms 
2025-03-08 22:19:06 [INF] Request starting HTTP/1.1 GET http://localhost:5129/api/user/7 - null null 
2025-03-08 22:19:06 [INF] Executing endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 22:19:06 [INF] Route matched with {action = "GetByData", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByData(Int32) on controller FinacyApi.Controllers.UserController (FinacyApi). 
2025-03-08 22:19:07 [INF] Executed DbCommand (49ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e.value AS "Value", e."Category", e."ExpenseDate", e."Description"
FROM "Expenses" AS e
WHERE e."UserId" = @__Id_0 
2025-03-08 22:19:07 [INF] Executed DbCommand (3ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r.value, r."Description", r."ReceiptDate"
FROM "Revenues" AS r
WHERE r."UserId" = @__Id_0 
2025-03-08 22:19:07 [INF] Executed DbCommand (1ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."Description", m."TotalValue"
FROM "MetaFinancials" AS m
WHERE m."UserId" = @__Id_0 
2025-03-08 22:19:08 [INF] Executing FileContentResult, sending file with download name 'Relatorio_Financeiro.pdf' ... 
2025-03-08 22:19:08 [INF] Executed action FinacyApi.Controllers.UserController.GetByData (FinacyApi) in 1683.2607ms 
2025-03-08 22:19:08 [INF] Executed endpoint 'FinacyApi.Controllers.UserController.GetByData (FinacyApi)' 
2025-03-08 22:19:08 [INF] HTTP GET /api/user/7 responded 200 in 1753.9984 ms 
2025-03-08 22:19:08 [INF] Request finished HTTP/1.1 GET http://localhost:5129/api/user/7 - 200 24211 application/pdf 1767.1022ms 
